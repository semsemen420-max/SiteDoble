<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="–î–µ—Ç—Å–∫–∏–π –ú–∏—Ä - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –º–∞–≥–∞–∑–∏–Ω –¥–µ—Ç—Å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤">
    <title>–î–µ—Ç—Å–∫–∏–π –ú–∏—Ä - –ö–∞—Ä—Ç–æ—á–∫–∞ —Ç–æ–≤–∞—Ä–∞</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
    <header class="header">
        <nav class="nav-container">
            <a href="index.html" class="logo">–î–µ—Ç—Å–∫–∏–π –ú–∏—Ä</a>
            <ul class="nav-menu" id="navMenu">
                <li><a href="index.html" class="nav-link">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="catalog.html" class="nav-link">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                <li><a href="about.html" class="nav-link">–û –Ω–∞—Å</a></li>
                <li><a href="contact.html" class="nav-link">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a></li>
                <li><a href="delivery.html" class="nav-link">–î–æ—Å—Ç–∞–≤–∫–∞</a></li>
                <li><a href="favorites.html" class="nav-link">‚ù§Ô∏è –ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a></li>
                <li><a href="cart.html" class="btn btn-primary">üõí –ö–æ—Ä–∑–∏–Ω–∞ (0)</a></li>
            </ul>
            <button class="mobile-toggle" id="mobileToggle">‚ò∞</button>
        </nav>
    </header>

    <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–æ–≤–∞—Ä–∞ -->
    <section class="section">
        <div class="container">
            <div id="productContainer">
                <!-- –¢–æ–≤–∞—Ä –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
                <div style="text-align: center; padding: 4rem;">
                    <div style="font-size: 5rem; margin-bottom: 1rem;">üîÑ</div>
                    <h2>–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–∞...</h2>
                    <p style="color: var(--gray); margin-bottom: 2rem;">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ</p>
                </div>
            </div>
        </div>
    </section>

    <!-- –ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã -->
    <section class="section">
        <div class="container">
            <h2 class="section-title">–ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã üéØ</h2>

            <div class="grid grid-4" id="similarProducts">
                <!-- –ü–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ JavaScript -->
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>–û –º–∞–≥–∞–∑–∏–Ω–µ</h3>
                    <p>–î–µ—Ç—Å–∫–∏–π –ú–∏—Ä - —ç—Ç–æ –±–æ–ª–µ–µ 10 –ª–µ—Ç –æ–ø—ã—Ç–∞ –≤ –ø—Ä–æ–¥–∞–∂–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–µ—Ç—Å–∫–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤. –ú—ã –∑–∞–±–æ—Ç–∏–º—Å—è –æ
                        —Å—á–∞—Å—Ç—å–µ –≤–∞—à–∏—Ö –¥–µ—Ç–µ–π!</p>
                    <div class="social-links">
                        <a href="#" class="social-link">üìò</a>
                        <a href="#" class="social-link">üì∑</a>
                        <a href="#" class="social-link">‚ñ∂Ô∏è</a>
                        <a href="#" class="social-link">üí¨</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
                    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
                    <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥</a>
                    <a href="about.html">–û –Ω–∞—Å</a>
                    <a href="contact.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
                    <a href="delivery.html">–î–æ—Å—Ç–∞–≤–∫–∞</a>
                    <a href="favorites.html">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
                </div>
                <div class="footer-section">
                    <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
                    <a href="catalog.html?category=toys">–ò–≥—Ä—É—à–∫–∏</a>
                    <a href="catalog.html?category=clothes">–û–¥–µ–∂–¥–∞</a>
                    <a href="catalog.html?category=books">–ö–Ω–∏–≥–∏</a>
                    <a href="catalog.html?category=accessories">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</a>
                </div>
                <div class="footer-section">
                    <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
                    <p>üìû +7 (800) 555-35-35</p>
                    <p>üìß info@detmir.ru</p>
                    <p>üìç –ú–æ—Å–∫–≤–∞, —É–ª. –î–µ—Ç—Å–∫–∞—è, 123</p>
                    <p>üïê –ü–Ω-–í—Å: 9:00 - 21:00</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2026 –î–µ—Ç—Å–∫–∏–π –ú–∏—Ä. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script>
        // –ü–æ–ª—É—á–∞–µ–º ID —Ç–æ–≤–∞—Ä–∞ –∏–∑ URL
        function getProductIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return parseInt(urlParams.get('id')) || 1;
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä –ø–æ ID
        function loadProduct() {
            const productId = getProductIdFromUrl();
            const product = products.find(p => p.id === productId);
            
            if (!product) {
                document.getElementById('productContainer').innerHTML = `
                    <div style="text-align: center; padding: 4rem;">
                        <div style="font-size: 5rem; margin-bottom: 1rem;">‚ùå</div>
                        <h2>–¢–æ–≤–∞—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω</h2>
                        <p style="color: var(--gray); margin-bottom: 2rem;">–¢–∞–∫–æ–≥–æ —Ç–æ–≤–∞—Ä–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç</p>
                        <a href="catalog.html" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥</a>
                    </div>
                `;
                return;
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.title = `${product.name} - –î–µ—Ç—Å–∫–∏–π –ú–∏—Ä`;
            
            // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º —Ç–æ–≤–∞—Ä
            document.getElementById('productContainer').innerHTML = `
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4rem; align-items: start;">
                    <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ -->
                    <div>
                        <div class="card" style="padding: 0; overflow: hidden;">
                            <img src="images/${product.image}" alt="${product.name}" style="width: 100%; border-radius: var(--border-radius);">
                        </div>
                    </div>

                    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–æ–≤–∞—Ä–µ -->
                    <div>
                        <div style="background: var(--primary-light); color: var(--primary-dark); padding: 0.5rem 1rem; border-radius: var(--border-radius-sm); display: inline-block; font-weight: 600; margin-bottom: 1rem;">
                            ${getCategoryName(product.category)}
                        </div>

                        <h1 style="margin-bottom: 1rem;">${product.name}</h1>

                        <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                            <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary-color); font-family: var(--font-heading);">
                                ${product.price} ‚ÇΩ
                            </div>
                            ${product.oldPrice ? `
                            <div style="font-size: 1.5rem; color: var(--gray); text-decoration: line-through;">
                                ${product.oldPrice} ‚ÇΩ
                            </div>
                            ` : ''}
                            ${product.badge ? `
                            <div style="background: var(--gradient-primary); color: white; padding: 0.5rem 1rem; border-radius: var(--border-radius-sm); font-weight: 700;">
                                ${product.badge}
                            </div>
                            ` : ''}
                        </div>

                        <p style="font-size: 1.1rem; margin-bottom: 2rem; line-height: 1.8;">
                            –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–æ–≤–∞—Ä –¥–ª—è –¥–µ—Ç–µ–π, –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω –∏–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤. –û—Ç–ª–∏—á–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ –¥–ª—è –≤–∞—à–µ–≥–æ —Ä–µ–±–µ–Ω–∫–∞!
                        </p>

                        <div class="card" style="margin-bottom: 2rem;">
                            <h3 style="margin-bottom: 1rem;">–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:</h3>
                            <ul style="list-style: none; padding: 0;">
                                <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--light-gray); display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600;">–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</span>
                                    <span>${getCategoryName(product.category)}</span>
                                </li>
                                <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--light-gray); display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600;">–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –≤–æ–∑—Ä–∞—Å—Ç:</span>
                                    <span>${getAgeText(product.age)}</span>
                                </li>
                                <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--light-gray); display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600;">–ú–∞—Ç–µ—Ä–∏–∞–ª:</span>
                                    <span>–í—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã</span>
                                </li>
                                <li style="padding: 0.75rem 0; border-bottom: 1px solid var(--light-gray); display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600;">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å:</span>
                                    <span>–î–µ—Ç—Å–∫–∏–π –ú–∏—Ä</span>
                                </li>
                                <li style="padding: 0.75rem 0; display: flex; justify-content: space-between;">
                                    <span style="font-weight: 600;">–°—Ç—Ä–∞–Ω–∞:</span>
                                    <span>–†–æ—Å—Å–∏—è</span>
                                </li>
                            </ul>
                        </div>

                        <div style="display: flex; gap: 1rem; margin-bottom: 2rem;">
                            <button class="btn btn-primary" style="flex: 1;" onclick="addToCart(${product.id})">
                                üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É
                            </button>
                            <button class="btn btn-outline" onclick="toggleFavorite(${product.id})">
                                ${favorites.isInFavorites(product.id) ? '‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º' : 'ü§ç –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ'}
                            </button>
                        </div>

                        <div class="card" style="background: var(--gradient-soft);">
                            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; text-align: center;">
                                <div>
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">üöö</div>
                                    <div style="font-size: 0.875rem; font-weight: 600;">–î–æ—Å—Ç–∞–≤–∫–∞ 1-3 –¥–Ω—è</div>
                                </div>
                                <div>
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚úÖ</div>
                                    <div style="font-size: 0.875rem; font-weight: 600;">–ì–∞—Ä–∞–Ω—Ç–∏—è –∫–∞—á–µ—Å—Ç–≤–∞</div>
                                </div>
                                <div>
                                    <div style="font-size: 2rem; margin-bottom: 0.5rem;">‚Ü©Ô∏è</div>
                                    <div style="font-size: 0.875rem; font-weight: 600;">–í–æ–∑–≤—Ä–∞—Ç 30 –¥–Ω–µ–π</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ—Ö–æ–∂–∏–µ —Ç–æ–≤–∞—Ä—ã
            showSimilarProducts(product);
        }
        
        function getAgeText(age) {
            const ages = {
                '0-2': '0-2 –≥–æ–¥–∞',
                '3-5': '3-5 –ª–µ—Ç',
                '6-9': '6-9 –ª–µ—Ç',
                '10+': '10+ –ª–µ—Ç'
            };
            return ages[age] || age;
        }
        
        function showSimilarProducts(currentProduct) {
            const similar = products
                .filter(p => p.category === currentProduct.category && p.id !== currentProduct.id)
                .slice(0, 4);
            
            const container = document.getElementById('similarProducts');
            if (!container) return;
            
            if (similar.length === 0) {
                container.innerHTML = '<p style="text-align: center; grid-column: 1 / -1; color: var(--gray);">–ù–µ—Ç –ø–æ—Ö–æ–∂–∏—Ö —Ç–æ–≤–∞—Ä–æ–≤</p>';
                return;
            }
            
            container.innerHTML = similar.map(product => `
                <a href="product.html?id=${product.id}" class="product-card">
                    <div class="product-image-wrapper">
                        <img src="images/${product.image}" alt="${product.name}" class="product-image">
                        ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                    </div>
                    <div class="product-info">
                        <div class="product-category">${getCategoryName(product.category)}</div>
                        <h3 class="product-title">${product.name}</h3>
                        <div class="product-price">
                            ${product.price} ‚ÇΩ
                            ${product.oldPrice ? `<span class="product-price-old">${product.oldPrice} ‚ÇΩ</span>` : ''}
                        </div>
                    </div>
                </a>
            `).join('');
        }
        
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫
        window.addToCart = function(productId) {
            cart.addItem(productId);
        };
        
        window.toggleFavorite = function(productId) {
            favorites.addItem(productId);
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏
            const button = document.querySelector('button[onclick*="toggleFavorite"]');
            if (button) {
                button.textContent = favorites.isInFavorites(productId) ? '‚ù§Ô∏è –í –∏–∑–±—Ä–∞–Ω–Ω–æ–º' : 'ü§ç –í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ';
            }
        };
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–≤–∞—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', loadProduct);
    </script>
</body>

</html>